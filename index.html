<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>DogWealth</title><meta name="author" content="Liu Yang"><meta name="copyright" content="Liu Yang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="DogWealth">
<meta property="og:url" content="https://dogwealth.github.io/index.html">
<meta property="og:site_name" content="DogWealth">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic4.zhimg.com/v2-728dee670e821ac6f498a38e94935a63_r.jpg?source=1940ef5c">
<meta property="article:author" content="Liu Yang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic4.zhimg.com/v2-728dee670e821ac6f498a38e94935a63_r.jpg?source=1940ef5c"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://dogwealth.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":300,"languages":{"author":"作者: Liu Yang","link":"链接: ","source":"来源: DogWealth","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'DogWealth',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-07-28 17:01:37'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://pic4.zhimg.com/v2-728dee670e821ac6f498a38e94935a63_r.jpg?source=1940ef5c" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/home_page.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">DogWealth</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">DogWealth</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/DogWealth" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:liuyang_16529@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item" style="width:100%"><div class="gitcalendar" id="gitcalendar"><div id="gitmessage" :style="{top:y+px,left:x+px,position: fixed,zIndex:9999}"><div class="angle-wrapper"><span>{{span1}} &nbsp;</span><span>{{span2}} 次上传</span></div></div><div class="position-relative"><div class="border py-2 graph-before-activity-overview"><div class="js-gitcalendar-graph mx-md-2 mx-3 d-flex flex-column flex-items-end flex-xl-items-center overflow-hidden pt-1 is-graph-loading graph-canvas gitcalendar-graph height-full text-center"><div id="gitcalendarcanvasbox" v-if="simplemode"><canvas id="gitcanvas" style="animation: none;"></canvas></div><svg class="js-gitcalendar-graph-svg" width="100%" viewBox="0 0 770 128" v-if="!simplemode"><text class="month" :x="32 + monthindex*64" y="20" v-for="(month,monthindex) in monthchange">{{month}}</text><text class="wday" text-anchor="start" dx="0" dy="40"> 日</text><text class="wday" text-anchor="start" dx="0" dy="65"> 二</text><text class="wday" text-anchor="start" dx="0" dy="90"> 四</text><text class="wday" text-anchor="start" dx="0" dy="115">六</text><g v-for="(weekitem,weekIndex) in data" :transform="'translate('+ (16 + weekIndex*14) + ',' + '0)'"><rect @mouseover="selectStyle(dayitem,$event)" @mouseleave="outStyle()" v-for="(dayitem,dayIndex) in weekitem" :style="{fill:thiscolor(dayitem.count),shapeRendering:crispedges}" :data-score="dayitem.count" :data-date="dayitem.date" x="0" :y=" 30 + dayIndex*13 " width="11" height="11"></rect></g></svg></div><div class="contrib-footer clearfix mt-1 mx-3 px-3 pb-1"><div class="float-left text-gray">数据来源 <a :href="'https://github.com/'+ user " target="blank">@{{user}}</a></div><div class="contrib-legend text-gray">Less<ul class="legend"><li :style="{backgroundColor:color[0]}"></li><li :style="{backgroundColor:color[2]}"></li><li :style="{backgroundColor:color[4]}"></li><li :style="{backgroundColor:color[6]}"></li><li :style="{backgroundColor:color[8]}"></li></ul>More</div></div></div></div><div class="contrib-column contrib-column-first table-column"><span class="text-muted">过去一年提交</span><span class="contrib-number">{{total}}</span><span class="text-muted">{{oneyearbeforeday}}&nbsp;-&nbsp;{{thisday}}</span></div><div class="contrib-column table-column"><span class="text-muted">最近一月提交</span><span class="contrib-number">{{thisweekdatacore}}</span><span class="text-muted">{{amonthago}}&nbsp;-&nbsp;{{thisday}}</span></div><div class="contrib-column table-column"><span class="text-muted">最近一周提交</span><span class="contrib-number">{{weekdatacore}}</span><span class="text-muted">{{aweekago}}&nbsp;-&nbsp;{{thisday}}</span></div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/07/23/conda%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/" title="conda虚拟环境">     <img class="post_bg" src="https://upimage.alexhchu.com/2020/10/21/f5ac68ddaaf64.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="conda虚拟环境"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/23/conda%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/" title="conda虚拟环境">conda虚拟环境</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-23T07:29:57.000Z" title="发表于 2021-07-23 15:29:57">2021-07-23</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">科研项目学习笔记</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AF%AD%E9%9F%B3%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE/">语音分离项目</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/conda/">conda</a></span></div><div class="content">conda虚拟环境创建、删除
1.查看conda版本
1conda -V
2.查看已有虚拟环境
121.conda env list2.conda info -e
3.创建虚拟环境
12conda create -n [env_name] python=x.x#env_name文件可以在Anaconda安装目录envs文件下找到。
4.打开虚拟环境
1conda cativate [env_name]
5.管理包
1234561.conda install [package]#指定名字2.conda install --yes --file requirements.txt#conda批量安装requirements.txt文件中包含的组件依赖3.conda list -e &gt; requirements.txt#conda批量导出包含环境中所有组件的requirements.txt文件4.conda remove [package]#删除当前环境下的某个包5.conda remove --name [your_env_name]  [package_name]#删除某个环境的某个 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/07/17/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="网络协议总复习">     <img class="post_bg" src="https://upimage.alexhchu.com/2020/10/21/f5ac68ddaaf64.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网络协议总复习"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/17/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="网络协议总复习">网络协议总复习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-17T12:17:56.000Z" title="发表于 2021-07-17 20:17:56">2021-07-17</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%B8%93%E4%B8%9A%E8%AF%BE/">专业课</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%A4%8D%E4%B9%A0/">复习</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/">网络协议</a></span></div><div class="content">第一章——TCP/IP协议
1.为什么要进行网络互连？

没有一种单一的网络硬件技术可以满足所有的要求
用户期待一种通用的互连
网络互连的目的就是要隐藏底层网络硬件的细节，同时提供一般的服务通信

2.网络互联的方式

应用级互连：应用程序直接建立在物理网络上，无任何中间协议。

缺点：

每台机器都要有所需应用程序
硬件变动后，应用程序也要变动
代码重复




网络级互连：在低层网络技术与高层应用程序之间增加一个中间层软件，屏蔽硬件细节，向用户提供通用网络服务。

优点：

系统更加灵活
出现新的网络技术，只要修改或者增加新的网络层软件
把数据通信活动从应用程序中分离出来，允许中间的计算机直接处理网络通信





3.为什么需要TCP/IP
不同网络通信会出现下面的问题：

不同的网络地址不同
不同的网络数据格式不同

解决办法：
引入IP层，屏蔽不同物理网络技术的差别。由路由器来对不同网络进行连接，进行地址和数据格式的转换。
4.数据传输过程中选路、控制和可靠性问题

选路：路由协议（RIP、OSPF、BGP等）
控制：ICMP
可靠性：TCP/UDP传输层协议

5.TCP/ ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/07/15/Looking-to-Listen-at-the-Cocktail-Party/" title="跑“Looking-to-Listen-at-the-Cocktail-Party”程序时出现的BUG及解决办法">     <img class="post_bg" src="https://upimage.alexhchu.com/2020/10/21/f5ac68ddaaf64.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="跑“Looking-to-Listen-at-the-Cocktail-Party”程序时出现的BUG及解决办法"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/15/Looking-to-Listen-at-the-Cocktail-Party/" title="跑“Looking-to-Listen-at-the-Cocktail-Party”程序时出现的BUG及解决办法">跑“Looking-to-Listen-at-the-Cocktail-Party”程序时出现的BUG及解决办法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-15T09:26:34.000Z" title="发表于 2021-07-15 17:26:34">2021-07-15</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">科研项目学习笔记</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AF%AD%E9%9F%B3%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE/">语音分离项目</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/BUG%E6%80%BB%E7%BB%93/">BUG总结</a></span></div><div class="content"> Looking-to-Listen-at-the-Cocktail-Party
1.has no attribute ‘_TensorLike’
原因

这个错误的原因可能是keras和tensorflow的版本不匹配。

解决办法

网上的办法比较多，我把tensorflow的版本降低解决了这个问题

keras==2.3.1
tensorlow==2.0.0



2.ValueError:bad marshal data(unkonwn type code)
原因
这是在加载FaceNet的预训练模型facenet_keras.h5时出现的问题，主要原因是keras版本和模型需要的keras版本不匹配。事实上在我这的原因似乎是Python的版本不匹配导致的？这个项目Python==3.7，我是3.8的Python。
解决办法
重装虚拟环境，用Python==3.7重装所有包
3.KeyError：‘acc’和KeyError：‘val_acc’
12plt.plot(history.history[&#x27;acc&#x27;])plt.plot(history.histor ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/07/12/%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="移动通信总复习">     <img class="post_bg" src="https://api2.mubu.com/v3/document_image/0947b210-bf30-4e7e-9dd9-970d55bf86ca-1279996.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="移动通信总复习"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/12/%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="移动通信总复习">移动通信总复习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-12T01:19:58.000Z" title="发表于 2021-07-12 09:19:58">2021-07-12</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%B8%93%E4%B8%9A%E8%AF%BE/">专业课</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1/">移动通信</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E5%A4%8D%E4%B9%A0/">复习</a></span></div><div class="content">第一章
1.什么是移动通信？它的特点是什么？
概念：

在任何时间、任何地点与任何人都能及时沟通联系，交换信息。移动通信是指通信双方，至少有一方在移动中进行信息传输和交换。

特点：

必须利用无线电波进行信息传输
在复杂的干扰环境中运行
可以利用的频谱资源非常有限，而移动通信业务量的需求却与日俱增
网络结构多种多样
通信设备必须适于在移动环境中使用

2.移动通信的分类

工作方式

单工：同频单工、异频单工
双工
半双工


信号形式

数字网
模拟网


通信业务

基于话音业务的通信网络
基于分组数据传输的通信网络



数字移动通信系统(数字网)的优点

频谱利用率高， 有利于提高系统容量
能提供多种业务服务，提高通信系统的通用性
抗噪声、抗干扰和抗多径衰落的能力强
更有效、灵活的网络管理和控制
便于实现通信的安全保密
降低设备成本以及减小用户手机的体量

3.常用移动通信系统

无线电寻呼系统
蜂窝移动通信系统（公用移动通信系统）
无绳电话系统
集群移动通信系统

控制方式：集中控制方式、分布控制方式
集群方式：消息集群、传输集群、准传输集群



蜂窝通信系统采用了哪些技 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/07/08/Pytorch%E2%80%94%E2%80%94DataLoader%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Pytorch——DataLoader源码学习笔记">     <img class="post_bg" src="https://api2.mubu.com/v3/document_image/8a599cdd-eb9e-486d-885b-b3321fec8a94-1279996.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Pytorch——DataLoader源码学习笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/08/Pytorch%E2%80%94%E2%80%94DataLoader%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Pytorch——DataLoader源码学习笔记">Pytorch——DataLoader源码学习笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-08T08:54:54.000Z" title="发表于 2021-07-08 16:54:54">2021-07-08</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">科研项目学习笔记</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AF%AD%E9%9F%B3%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE/">语音分离项目</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Python/">Python</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Pytorch/">Pytorch</a></span></div><div class="content">DataLoader源代码学习笔记
1.迭代器和生成器
弄明白DataLoader前有必要先弄明白迭代器

1.1 Iterator，Iterable
Python中列表、字典、集合等容器都是可迭代的，即Iterable。可以用for...in...来取出其中的每个元素。
123456789for e in [1,2,3,4]:    print(e)&#x27;&#x27;&#x27;out:1234&#x27;&#x27;&#x27;
等效于：
123456it = iter([1,2,3,4])while True:    try:        print(next(it))    except:        break
事实上，列表、字典等只是Iterable而不是迭代器，即Iterator。
for...in...本质上是把可迭代的容器转换成迭代器，然后通过next()来取出其中的元素。
StopIteration表明所有元素已经取出

迭代器需要方法__iter__和__next__，其中__iter__方法使得类可迭代
123456789101112131415161 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/07/05/Linux/" title="Linux">     <img class="post_bg" src="https://api2.mubu.com/v3/document_image/141dcb41-5a42-4e6c-b4bd-467e667a223f-1279996.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/05/Linux/" title="Linux">Linux</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-05T07:48:10.000Z" title="发表于 2021-07-05 15:48:10">2021-07-05</time></span></div><div class="content">修改一个目录下所有文件权限
1chmod -R 777 目录名
</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/07/01/%E8%AF%AD%E9%9F%B3%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="语音信号处理总复习">     <img class="post_bg" src="https://api2.mubu.com/v3/document_image/6f1c02c3-2e13-43f6-8baa-b73e8d343cf3-1279996.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="语音信号处理总复习"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/01/%E8%AF%AD%E9%9F%B3%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="语音信号处理总复习">语音信号处理总复习</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-01T15:18:08.000Z" title="发表于 2021-07-01 23:18:08">2021-07-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%B8%93%E4%B8%9A%E8%AF%BE/">专业课</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AF%AD%E9%9F%B3%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/">语音信号处理</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E5%A4%8D%E4%B9%A0/">复习</a></span></div><div class="content">DogWealth/exam-review-material: 复习资料 (github.com)
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/07/01/init-py%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86Package/" title="__init__.py文件管理Package">     <img class="post_bg" src="https://api2.mubu.com/v3/document_image/00895d0f-1351-4ca4-8f3d-a08c855ea2a6-1279996.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="__init__.py文件管理Package"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/01/init-py%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86Package/" title="__init__.py文件管理Package">__init__.py文件管理Package</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-01T09:30:30.000Z" title="发表于 2021-07-01 17:30:30">2021-07-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">科研项目学习笔记</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AF%AD%E9%9F%B3%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE/">语音分离项目</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Python/">Python</a></span></div><div class="content">__init__.py文件
1.

创建一个结构如上图的文件夹：

test文件夹里包含A文件夹、B文件夹和测试文件test.py

A文件夹下包含A_A文件夹

A_A文件夹下面包含testa_a.py文件，里面有funca_a函数可以打印消息


A文件夹下有testa.py和testa2.py文件，分别有函数funca和funca2，可以打印消息
B文件夹下有testb.py文件，有函数funcb，可以打印消息



12345678910#test.pyfrom A import testafrom B import testbtesta.funca()testb.funcb()&#x27;&#x27;&#x27;out:this is funcathis is funcb&#x27;&#x27;&#x27;
2.
在大部分情况下，使用A里面的函数，不会去一条一条的from…impot，而是
123456from A import *testa.funca()&#x27;&#x27;&#x27;out:NameError: name &#x27;testa&#x27; is n ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/07/01/Yaml%E6%95%99%E7%A8%8B/" title="Yaml教程">     <img class="post_bg" src="https://api2.mubu.com/v3/document_image/4379caae-b6c9-4411-8b96-b2624dc02690-1279996.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Yaml教程"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/01/Yaml%E6%95%99%E7%A8%8B/" title="Yaml教程">Yaml教程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-01T09:29:02.000Z" title="发表于 2021-07-01 17:29:02">2021-07-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">科研项目学习笔记</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AF%AD%E9%9F%B3%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE/">语音分离项目</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%8F%E5%88%97%E5%8C%96%E8%AF%AD%E8%A8%80/">数据序列化语言</a></span></div><div class="content"></div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/07/01/Librosa%E5%BA%93-%E8%AF%AD%E9%9F%B3%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/" title="Librosa库-语音信号处理">     <img class="post_bg" src="https://api2.mubu.com/v3/document_image/19da2892-9b83-44b2-a12b-03d251f34a9a-1279996.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Librosa库-语音信号处理"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/01/Librosa%E5%BA%93-%E8%AF%AD%E9%9F%B3%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/" title="Librosa库-语音信号处理">Librosa库-语音信号处理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-01T09:28:12.000Z" title="发表于 2021-07-01 17:28:12">2021-07-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">科研项目学习笔记</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E8%AF%AD%E9%9F%B3%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE/">语音分离项目</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/Python/">Python</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E8%AF%AD%E9%9F%B3%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/">语音信号处理</a></span></div><div class="content">语音信号处理库——Librosa
librosa语音信号处理 - 简书 (jianshu.com)这篇文章说的非常详细，但有一些函数已经荒废了我做了一些补充。
librosa — librosa 0.8.1 documentation官方文档
特征提取流程图：

1.读取语音
1y,sr = librosa.load(path, sr=22050, mono=True, offset=0.0, duration=None)
参数：

path：文件路径；
sr：采样频率，默认22050，可以用参数’None’表示用原语音自身的采样频率；
mono：是否将音频转换为单声道
offset：表示音频读取的位置，以s为单位
duration：表示读取音频的长度，以s为单位

返回值：

y：音频时间序列
sr：音频的采样频率

1234import librosaimport matplotlib.pyplot as plty,sr= librosa.load(path=&quot;test.wav&quot;,sr=None,mono=False,offset=1,duration=3)pl ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://pic4.zhimg.com/v2-728dee670e821ac6f498a38e94935a63_r.jpg?source=1940ef5c" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Liu Yang</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/DogWealth"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/DogWealth" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:liuyang_16529@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/07/23/conda%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/" title="conda虚拟环境"><img src="https://upimage.alexhchu.com/2020/10/21/f5ac68ddaaf64.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="conda虚拟环境"/></a><div class="content"><a class="title" href="/2021/07/23/conda%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/" title="conda虚拟环境">conda虚拟环境</a><time datetime="2021-07-23T07:29:57.000Z" title="发表于 2021-07-23 15:29:57">2021-07-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/17/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="网络协议总复习"><img src="https://upimage.alexhchu.com/2020/10/21/f5ac68ddaaf64.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="网络协议总复习"/></a><div class="content"><a class="title" href="/2021/07/17/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="网络协议总复习">网络协议总复习</a><time datetime="2021-07-17T12:17:56.000Z" title="发表于 2021-07-17 20:17:56">2021-07-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/15/Looking-to-Listen-at-the-Cocktail-Party/" title="跑“Looking-to-Listen-at-the-Cocktail-Party”程序时出现的BUG及解决办法"><img src="https://upimage.alexhchu.com/2020/10/21/f5ac68ddaaf64.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="跑“Looking-to-Listen-at-the-Cocktail-Party”程序时出现的BUG及解决办法"/></a><div class="content"><a class="title" href="/2021/07/15/Looking-to-Listen-at-the-Cocktail-Party/" title="跑“Looking-to-Listen-at-the-Cocktail-Party”程序时出现的BUG及解决办法">跑“Looking-to-Listen-at-the-Cocktail-Party”程序时出现的BUG及解决办法</a><time datetime="2021-07-15T09:26:34.000Z" title="发表于 2021-07-15 17:26:34">2021-07-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/12/%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="移动通信总复习"><img src="https://api2.mubu.com/v3/document_image/0947b210-bf30-4e7e-9dd9-970d55bf86ca-1279996.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="移动通信总复习"/></a><div class="content"><a class="title" href="/2021/07/12/%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E6%80%BB%E5%A4%8D%E4%B9%A0/" title="移动通信总复习">移动通信总复习</a><time datetime="2021-07-12T01:19:58.000Z" title="发表于 2021-07-12 09:19:58">2021-07-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/08/Pytorch%E2%80%94%E2%80%94DataLoader%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Pytorch——DataLoader源码学习笔记"><img src="https://api2.mubu.com/v3/document_image/8a599cdd-eb9e-486d-885b-b3321fec8a94-1279996.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Pytorch——DataLoader源码学习笔记"/></a><div class="content"><a class="title" href="/2021/07/08/Pytorch%E2%80%94%E2%80%94DataLoader%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Pytorch——DataLoader源码学习笔记">Pytorch——DataLoader源码学习笔记</a><time datetime="2021-07-08T08:54:54.000Z" title="发表于 2021-07-08 16:54:54">2021-07-08</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/LeetCode/"><span class="card-category-list-name">LeetCode</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%B8%93%E4%B8%9A%E8%AF%BE/"><span class="card-category-list-name">专业课</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%A7%91%E7%A0%94%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">科研项目学习笔记</span><span class="card-category-list-count">6</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/LeetCode/" style="font-size: 1.3em; color: rgb(59, 131, 95)">LeetCode</a><a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 1.3em; color: rgb(75, 174, 134)">链表</a><a href="/tags/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/" style="font-size: 1.15em; color: rgb(75, 140, 30)">每日一题</a><a href="/tags/%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1/" style="font-size: 1.3em; color: rgb(151, 193, 136)">移动通信</a><a href="/tags/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/" style="font-size: 1.15em; color: rgb(100, 35, 197)">课程项目</a><a href="/tags/%E8%AF%AD%E9%9F%B3%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE/" style="font-size: 1.45em; color: rgb(83, 21, 19)">语音分离项目</a><a href="/tags/BUG%E6%80%BB%E7%BB%93/" style="font-size: 1.15em; color: rgb(44, 197, 160)">BUG总结</a><a href="/tags/Python/" style="font-size: 1.3em; color: rgb(10, 175, 4)">Python</a><a href="/tags/Pytorch/" style="font-size: 1.15em; color: rgb(57, 180, 193)">Pytorch</a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%8F%E5%88%97%E5%8C%96%E8%AF%AD%E8%A8%80/" style="font-size: 1.15em; color: rgb(127, 52, 160)">数据序列化语言</a><a href="/tags/conda/" style="font-size: 1.15em; color: rgb(160, 186, 175)">conda</a><a href="/tags/%E4%BD%9C%E4%B8%9A/" style="font-size: 1.15em; color: rgb(88, 19, 120)">作业</a><a href="/tags/%E8%AF%AD%E9%9F%B3%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/" style="font-size: 1.22em; color: rgb(82, 125, 112)">语音信号处理</a><a href="/tags/%E5%A4%8D%E4%B9%A0/" style="font-size: 1.38em; color: rgb(106, 156, 57)">复习</a><a href="/tags/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/" style="font-size: 1.15em; color: rgb(42, 77, 159)">网络协议</a><a href="/tags/%E4%BA%A4%E6%8D%A2%E4%B8%8E%E8%B7%AF%E7%94%B1/" style="font-size: 1.15em; color: rgb(148, 146, 132)">交换与路由</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/06/"><span class="card-archive-list-date">六月 2021</span><span class="card-archive-list-count">7</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">17</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-06-04T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">47.6k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-07-28T09:01:36.570Z"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/home_page.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Liu Yang</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://butterfly.js.org/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js').then(() => {
    jinrishici.load(function (result) {
      if (true) {
        var sub = "给时光以生命，而不是给生命以时光,To the time to life&#44;rather than to life in time".length == 0 ? new Array() : "给时光以生命，而不是给生命以时光,To the time to life&#44;rather than to life in time".split(',')
        var content = result.data.content
        var both = sub.unshift(content)
        var typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = result.data.content
      }
    })
  })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><script defer src="/live2d-widget/autoload.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script>var gitcalendar = new Vue({
  el: '#gitcalendar',
  data: {
    simplemode: false, 
    user: 'DogWealth',
    fixed: 'fixed',
    px: 'px',
    x: '',
    y: '',
    span1: '',
    span2: '',
    month: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'],
    monthchange: [],
    oneyearbeforeday: '',
    thisday: '',
    amonthago: '',
    aweekago: '',
    weekdatacore: 0,
    datacore: 0,
    total: 0,
    datadate: '',
    data: [],
    positionplusdata: [],
    firstweek: [],
    lastweek: [],
    beforeweek: [],
    thisweekdatacore: 0,
    mounthbeforeday: 0,
    mounthfirstindex: 0,
    crispedges: 'crispedges',
    thisdayindex: 0,
    amonthagoindex: 0,
    amonthagoweek: [],
    firstdate: [],
    first2date: [],
    montharrbefore: [],
    monthindex: 0,
    color: ['#e4dfd7', '#f9f4dc', '#f7e8aa', '#f7e8aa', '#f8df72', '#fcd217', '#fcc515', '#f28e16', '#fb8b05', '#d85916', '#f43e06']
  },
  methods: {
    selectStyle(data, event) {
      document.querySelector('.angle-wrapper').style.display = 'block'
      this.span1 = data.date;
      this.span2 = data.count;
      this.x = event.clientX - 100;
      this.y = event.clientY - 60
    },
    outStyle() {
      document.querySelector('.angle-wrapper').style.display = 'none'
    },
    thiscolor(x) {
      if (x === 0) {
        let i = parseInt(x / 2);
        return this.color[0]
      } else if (x < 2) {
        return this.color[1]
      } else if (x < 20) {
        let i = parseInt(x / 2);
        return this.color[i]
      } else {
        return this.color[9]
      }
    },
  }
});
var apiurl = 'python-github-calendar-api2.vercel.app/api/?dogwealth# 留空为默认公共API，自建api内容详见下节' ? 'https://python-github-calendar-api2.vercel.app/api/?dogwealth# 留空为默认公共API，自建api内容详见下节/api?' : 'https://githubapi.ryanchristian.dev/user/'
var githubapiurl = apiurl + gitcalendar.user;
//canvas绘图
function responsiveChart() {
  let c = document.getElementById("gitcanvas");
  if (c) {
    let cmessage = document.getElementById("gitmessage");
    let ctx = c.getContext("2d");
    c.width = document.getElementById("gitcalendarcanvasbox").offsetWidth;
    let linemaxwitdh = 0.96 * c.width / gitcalendar.data.length;
    c.height = 9 * linemaxwitdh;
    let lineminwitdh = 0.8 * linemaxwitdh;
    let setposition = {
      x: 0.02 * c.width,
      y: 0.025 * c.width
    };
    for (let week in gitcalendar.data) {
      weekdata = gitcalendar.data[week];
      for (let day in weekdata) {
        let dataitem = {
          date: "",
          count: "",
          x: 0,
          y: 0
        };
        gitcalendar.positionplusdata.push(dataitem);
        ctx.fillStyle = gitcalendar.thiscolor(weekdata[day].count);
        setposition.y = Math.round(setposition.y * 100) / 100;
        dataitem.date = weekdata[day].date;
        dataitem.count = weekdata[day].count;
        dataitem.x = setposition.x;
        dataitem.y = setposition.y;
        ctx.fillRect(setposition.x, setposition.y, lineminwitdh, lineminwitdh);
        setposition.y = setposition.y + linemaxwitdh
      };
      setposition.y = 0.025 * c.width;
      setposition.x = setposition.x + linemaxwitdh
    };
    ctx.font = "600  Arial";
    ctx.fillStyle = '#aaa';
    ctx.fillText("日", 0, 1.9 * linemaxwitdh);
    ctx.fillText("二", 0, 3.9 * linemaxwitdh);
    ctx.fillText("四", 0, 5.9 * linemaxwitdh);
    ctx.fillText("六", 0, 7.9 * linemaxwitdh);
    let monthindexlist = c.width / 24;
    for (let index in gitcalendar.monthchange) {
      ctx.fillText(gitcalendar.monthchange[index], monthindexlist, 0.7 * linemaxwitdh);
      monthindexlist = monthindexlist + c.width / 12
    };
    cmessage.onmousemove = function(event) {
      document.querySelector('.angle-wrapper').style.display = 'none'
    };
    c.onmousemove = function(event) {
      document.querySelector('.angle-wrapper').style.display = 'none'
      getMousePos(c, event);
    };

    function getMousePos(canvas, event) {
      var rect = canvas.getBoundingClientRect();
      var x = event.clientX - rect.left * (canvas.width / rect.width);
      var y = event.clientY - rect.top * (canvas.height / rect.height);
      //console.log("x:"+x+",y:"+y);
      for (let item of gitcalendar.positionplusdata) {
        let lenthx = x - item.x;
        let lenthy = y - item.y;
        //console.log(lenthx,lenthy);
        if (0 < lenthx && lenthx < lineminwitdh) {
          if (0 < lenthy && lenthy < lineminwitdh) {
            //console.log(item.date,item.count)
            document.querySelector('.angle-wrapper').style.display = 'block'
            gitcalendar.span1 = item.date;
            gitcalendar.span2 = item.count;
            gitcalendar.x = event.clientX - 100;
            gitcalendar.y = event.clientY - 60
          }
        }
        //if(0< x - item.x <lineminwitdh&&0< y - item.y <lineminwitdh){
        //console.log(item.count,item.date);
        //}
      }
    }
  }
}
//数据统计算法
function addlastmonth() {
  if (gitcalendar.thisdayindex === 0) {
    thisweekcore(52);
    thisweekcore(51);
    thisweekcore(50);
    thisweekcore(49);
    thisweekcore(48);
    gitcalendar.thisweekdatacore += gitcalendar.firstdate[6].count;
    gitcalendar.amonthago = gitcalendar.firstdate[6].date
  } else {
    thisweekcore(52);
    thisweekcore(51);
    thisweekcore(50);
    thisweekcore(49);
    thisweek2core();
    gitcalendar.amonthago = gitcalendar.first2date[gitcalendar.thisdayindex - 1].date
  }
};

function thisweek2core() {
  for (let i = gitcalendar.thisdayindex - 1; i < gitcalendar.first2date.length; i++) {
    gitcalendar.thisweekdatacore += gitcalendar.first2date[i].count
  }
};

function thisweekcore(index) {
  for (let item of gitcalendar.data[index]) {
    gitcalendar.thisweekdatacore += item.count
  }
};

function addlastweek() {
  for (let item of gitcalendar.lastweek) {
    gitcalendar.weekdatacore += item.count
  }
};

function addbeforeweek() {
  for (let i = gitcalendar.thisdayindex; i < gitcalendar.beforeweek.length; i++) {
    gitcalendar.weekdatacore += gitcalendar.beforeweek[i].count
  }
};

function addweek(data) {
  if (gitcalendar.thisdayindex === 6) {
    gitcalendar.aweekago = gitcalendar.lastweek[0].date;
    addlastweek()
  } else {
    lastweek = data.contributions[51];
    gitcalendar.aweekago = lastweek[gitcalendar.thisdayindex + 1].date;
    addlastweek();
    addbeforeweek()
  }
}

fetch(githubapiurl)
  .then(data => data.json())
  .then(data => {
    gitcalendar.data = data.contributions;
    gitcalendar.total = data.total;
    gitcalendar.first2date = gitcalendar.data[48];
    gitcalendar.firstdate = gitcalendar.data[47];
    gitcalendar.firstweek = data.contributions[0];
    gitcalendar.lastweek = data.contributions[52];
    gitcalendar.beforeweek = data.contributions[51];
    gitcalendar.thisdayindex = gitcalendar.lastweek.length - 1;
    gitcalendar.thisday = gitcalendar.lastweek[gitcalendar.thisdayindex].date;
    gitcalendar.oneyearbeforeday = gitcalendar.firstweek[0].date;
    gitcalendar.monthindex = gitcalendar.thisday.substring(5, 7) * 1;
    gitcalendar.montharrbefore = gitcalendar.month.splice(gitcalendar.monthindex, 12 - gitcalendar.monthindex);
    gitcalendar.monthchange = gitcalendar.montharrbefore.concat(gitcalendar.month);
    addweek(data);
    addlastmonth();
    responsiveChart();
  })
  .catch(function(error) {
    console.log(error);
  });

//手机版更换为svg绘制
if (document.getElementById("gitcalendarcanvasbox").offsetWidth < 500) {
  gitcalendar.simplemode = false
}

//当改变窗口大小时重新绘制canvas
window.onresize = function() {
  if (gitcalendar.simplemode) responsiveChart()
}

//解决滚动滑轮时出现的标签显示
window.onscroll = function() {
  if (document.querySelector('.angle-wrapper')) {
    document.querySelector('.angle-wrapper').style.display = 'none'
  }
};</script></div></body></html>